---
layout: page
title: graphic-stack
permalink: /graphic-stack/
tags: graphics
excerpt: The `graphic-stack` element provides structure for a single image in the body of a story.
---

<link rel="import" href="components/graphic-stack.html">

<label class="sans-cond">Image URL <small>(Desktop or single)</small></label>
<input type="text" class="space" name="desktopImage">

<label class="sans-cond">Image URL <small>(Mobile)</small></label>
<input type="text" class="space" name="mobileImage">

<label class="sans-cond">Content</label>
<textarea name="content" class="space"></textarea>

<label class="sans-cond">Positioning</label>
<div class="horizontal layout space">
  <label><input type="radio" name="position" value="full" checked>full</label>
  <label><input type="radio" name="position" value="left">left</label>
  <label><input type="radio" name="position" value="right">right</label>
</div>

<button class="generate">generate code</button>

<!-- generated content -->
<div id="preview" class="clearfix"></div>

<label class="sans-cond">Copy this code</label>
<textarea id="code" class="nowrap"></textarea>

<script>
  var f = document.querySelector('form');
  var b = document.querySelector('button');

  b.addEventListener('click', generateHTML);

  function generateHTML() {
    var v = {
      desktop: document.querySelector('input[name="desktopImage"]').value,
      mobile: document.querySelector('input[name="mobileImage"]').value,
      content: marked(document.querySelector('textarea[name="content"]').value),
      position: document.querySelector('input[name="position"]:checked').value
    }

    var imageString = v.mobile ? `
<img desktop src="${v.desktop}">
<img mobile src="${v.mobile}">
    ` : `
<img src="${v.desktop}">
    `

    var html = `
<graphic-stack ${v.position}>
${imageString.trim()}
${v.content.trim()}
</graphic-stack>
    `
    document.querySelector('#preview').innerHTML = html;
    document.querySelector('#code').value = html.trim();
  }
</script>
